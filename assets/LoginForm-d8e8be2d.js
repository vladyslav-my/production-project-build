import{u as F,a as x,r as u,b as i,l as g,c as b,j as a,d as f,I as p,B as j,e as E,f as w}from"./index-a0e0f2b4.js";const C=({children:e,reducers:s,removeAfterUnmount:o})=>{const r=F(),n=x();return u.useEffect(()=>{const c=Object.entries(s);return c.forEach(([t,d])=>{n.reducerManager.add(t,d),r({type:`@INIT ${t} reducer`})}),()=>{o&&c.forEach(([t])=>{n.reducerManager.remove(t),r({type:`@DESTROY ${t} reducer`})})}},[r,o,n.reducerManager,s]),e},N=e=>{var s;return(s=e.loginForm)==null?void 0:s.error},y=e=>{var s;return((s=e.loginForm)==null?void 0:s.isLoading)||!1},I=e=>{var s;return((s=e.loginForm)==null?void 0:s.password)||""},_=e=>{var s;return((s=e.loginForm)==null?void 0:s.username)||""},k="_LoginForm_1usnm_1",R="_button_1usnm_8",l={LoginForm:k,button:R},U={loginForm:w},B=({className:e,onToggle:s})=>{const o=F(),r=i(_),n=i(I),c=i(y),t=i(N),d=u.useCallback(m=>{o(g.setUsername(m))},[o]),L=u.useCallback(m=>{o(g.setPassword(m))},[o]),h=u.useCallback(()=>{o(b({username:r,password:n})),s(!1)},[o,r,n,s]);return a.jsx(C,{reducers:U,removeAfterUnmount:!0,children:a.jsxs("div",{className:f(l.LoginForm,{},[e]),children:[a.jsx("p",{children:t&&"wrong username or password"}),a.jsx(p,{className:l.input,placeholder:"username",type:"text",value:r,onChange:d}),a.jsx(p,{className:l.input,placeholder:"password",type:"text",value:n,onChange:L}),a.jsx(j,{className:l.button,disabled:c,theme:E.OUTLINE,onClick:h,children:"Log in"})]})})};export{B as default};
